commit e80c52986e1bb3afa6a92c58b1cb897877923a66
Author: Tom Stellard <tstellar@redhat.com>
Date:   Tue Feb 1 23:13:01 2022 -0800

    [docs] Remove hard-coded version numbers from sphinx configs
    
    This updates all the non-runtime project release notes to use the
    version number from CMake instead of the hard-coded version numbers
    in conf.py.
    
    It also hides warnings about pre-releases when the git suffix
    is dropped from the LLVM version in CMake.
    
    Reviewed By: MaskRay
    
    Differential Revision: https://reviews.llvm.org/D112181

diff --git b/clang-tools-extra/docs/conf.py a/clang-tools-extra/docs/conf.py
index bf8dd05cb6f8..24dbcb144677 100644
--- b/clang-tools-extra/docs/conf.py
+++ a/clang-tools-extra/docs/conf.py
@@ -44,6 +44,15 @@ master_doc = 'index'
 project = u'Extra Clang Tools'
 copyright = u'2007-%d, The Clang Team' % date.today().year
 
+# The version info for the project you're documenting, acts as replacement for
+# |version| and |release|, also used in various other places throughout the
+# built documents.
+#
+# The short version.
+version = '14'
+# The full version, including alpha/beta/rc tags.
+release = '14'
+
 # The language for content autogenerated by Sphinx. Refer to documentation
 # for a list of supported languages.
 #language = None
@@ -78,11 +87,6 @@ pygments_style = 'friendly'
 # A list of ignored prefixes for module index sorting.
 #modindex_common_prefix = []
 
-in_progress_title = "(In-Progress) " if tags.has("PreRelease") else ""
-
-rst_epilog = f"""
-.. |ReleaseNotesTitle| replace:: {in_progress_title} Release Notes
-"""
 
 # -- Options for HTML output ---------------------------------------------------
 
diff --git b/clang/docs/conf.py a/clang/docs/conf.py
index b8a42018191a..690c8430a321 100644
--- b/clang/docs/conf.py
+++ a/clang/docs/conf.py
@@ -62,6 +62,15 @@ master_doc = 'index'
 project = u'Clang'
 copyright = u'2007-%d, The Clang Team' % date.today().year
 
+# The version info for the project you're documenting, acts as replacement for
+# |version| and |release|, also used in various other places throughout the
+# built documents.
+#
+# The short version.
+version = '14'
+# The full version, including alpha/beta/rc tags.
+release = '14'
+
 # The language for content autogenerated by Sphinx. Refer to documentation
 # for a list of supported languages.
 #language = None
@@ -96,11 +105,6 @@ pygments_style = 'friendly'
 # A list of ignored prefixes for module index sorting.
 #modindex_common_prefix = []
 
-in_progress_title = "(In-Progress) " if tags.has("PreRelease") else ""
-
-rst_epilog = f"""
-.. |ReleaseNotesTitle| replace:: {in_progress_title} Release Notes
-"""
 
 # -- Options for HTML output ---------------------------------------------------
 
diff --git b/lld/docs/conf.py a/lld/docs/conf.py
index 95befddf80ea..8d0fec72caf8 100644
--- b/lld/docs/conf.py
+++ a/lld/docs/conf.py
@@ -43,6 +43,15 @@ master_doc = 'index'
 project = u'lld'
 copyright = u'2011-%d, LLVM Project' % date.today().year
 
+# The version info for the project you're documenting, acts as replacement for
+# |version| and |release|, also used in various other places throughout the
+# built documents.
+#
+# The short version.
+version = '14'
+# The full version, including alpha/beta/rc tags.
+release = '14'
+
 # The language for content autogenerated by Sphinx. Refer to documentation
 # for a list of supported languages.
 #language = None
diff --git b/llvm/cmake/modules/AddSphinxTarget.cmake a/llvm/cmake/modules/AddSphinxTarget.cmake
index bbc889c6b085..5bd368b6d553 100644
--- b/llvm/cmake/modules/AddSphinxTarget.cmake
+++ a/llvm/cmake/modules/AddSphinxTarget.cmake
@@ -39,10 +39,6 @@ function (add_sphinx_target builder project)
     set(ARG_SOURCE_DIR "${CMAKE_CURRENT_SOURCE_DIR}")
   endif()
 
-  if ("${LLVM_VERSION_SUFFIX}" STREQUAL "git")
-    set(PreReleaseTag "-tPreRelease")
-  endif()
-
   add_custom_target(${SPHINX_TARGET_NAME}
                     COMMAND ${CMAKE_COMMAND} -E env ${ARG_ENV_VARS}
                             ${SPHINX_EXECUTABLE}
@@ -50,9 +46,6 @@ function (add_sphinx_target builder project)
                             -d "${SPHINX_DOC_TREE_DIR}"
                             -q # Quiet: no output other than errors and warnings.
                             -t builder-${builder} # tag for builder
-                            -D version=${LLVM_VERSION_MAJOR}
-                            -D release=${PACKAGE_VERSION}
-                            ${PreReleaseTag}
                             ${SPHINX_WARNINGS_AS_ERRORS_FLAG} # Treat warnings as errors if requested
                             "${ARG_SOURCE_DIR}" # Source
                             "${SPHINX_BUILD_DIR}" # Output
diff --git b/llvm/docs/conf.py a/llvm/docs/conf.py
index 80aef2202bcd..5be2e8671111 100644
--- b/llvm/docs/conf.py
+++ a/llvm/docs/conf.py
@@ -61,6 +61,15 @@ master_doc = 'index'
 project = u'LLVM'
 copyright = u'2003-%d, LLVM Project' % date.today().year
 
+# The version info for the project you're documenting, acts as replacement for
+# |version| and |release|, also used in various other places throughout the
+# built documents.
+#
+# The short version.
+version = '14'
+# The full version, including alpha/beta/rc tags.
+release = '14'
+
 # The language for content autogenerated by Sphinx. Refer to documentation
 # for a list of supported languages.
 #language = None
diff --git b/polly/docs/conf.py a/polly/docs/conf.py
index b35c4a2ae9bc..cf757f12d969 100644
--- b/polly/docs/conf.py
+++ a/polly/docs/conf.py
@@ -44,6 +44,15 @@ master_doc = 'index'
 project = u'Polly'
 copyright = u'2010-%d, The Polly Team' % date.today().year
 
+# The version info for the project you're documenting, acts as replacement for
+# |version| and |release|, also used in various other places throughout the
+# built documents.
+#
+# The short X.Y version.
+version = '14.0'
+# The full version, including alpha/beta/rc tags.
+release = '14.0'
+
 # The language for content autogenerated by Sphinx. Refer to documentation
 # for a list of supported languages.
 #language = None
@@ -78,11 +87,6 @@ pygments_style = 'friendly'
 # A list of ignored prefixes for module index sorting.
 #modindex_common_prefix = []
 
-in_progress_title = "(In-Progress) " if tags.has("PreRelease") else ""
-
-rst_epilog = f"""
-.. |ReleaseNotesTitle| replace:: {in_progress_title} Release Notes
-"""
 
 # -- Options for HTML output ---------------------------------------------------
 
